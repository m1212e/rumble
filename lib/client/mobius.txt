import { Mobius } from "graphql-mobius";
import { mobiusWrapper } from "@m1212e/rumble";

const schema = `
%REPLACE_SCHEMA_HERE%
`;

type MobiusInput = Omit<
	NonNullable<ConstructorParameters<typeof Mobius>[0]>,
	"typeDefs"
>;

export function createClient(options?: MobiusInput) {
	const mobius = new Mobius<typeof schema>({
		...options,
		typeDefs: schema,
	});
	return mobiusWrapper<typeof schema, typeof mobius>(mobius);
}